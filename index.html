<!DOCTYPE html> 
<html lang="es"> 
<head> 
    <meta charset="utf-8" /> 
    <meta name="viewport" content="width=device-width,initial-scale=1" /> 
    <title>Squads — LOS LININEITORS</title> 
 
    <!-- Fuentes --> 
    <link 
href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdha
ni:wght@300;500;700&display=swap" rel="stylesheet"> 
 
    <style> 
        :root{ 
            --bg:#081024; 
            --card:#0f1724; 
            --muted:#94a3b8; 
            --accent-1:#F0B429; /* dorado */ 
            --accent-2:#7A5AF8; /* violeta */ 
            --glass: rgba(255,255,255,0.03); 
            --success: #22c55e; 
            --danger: #ef4444; 
            --radius: 12px; 
            --shadow: 0 6px 20px rgba(2,6,23,0.6); 
            --fw-primary: 'Orbitron', sans-serif; 
            --fw-secondary: 'Rajdhani', sans-serif; 
        } 
 
        /* Reset & base */ 
        *{box-sizing:border-box} 
        html{scroll-behavior:smooth} 
        body{ 
            margin:0; 
            font-family:var(--fw-secondary); 
            background: linear-gradient(180deg, var(--bg) 0%, #07101b 100%); 
            color: #E6F1FF; 
            -webkit-font-smoothing:antialiased; 
            -moz-osx-font-smoothing:grayscale; 
            line-height:1.35; 
        } 
 
        /* Opening overlay */ 
        #opening-overlay{ 
            position:fixed; 
            inset:0; 
            display:flex; 
            align-items:center; 
            justify-content:center; 
            z-index:120; 
            background: linear-gradient(180deg, rgba(2,6,23,0.94), rgba(2,6,23,0.98)); 
            transition: opacity .9s ease, transform .9s ease; 
        } 
        #opening-overlay.hidden{ opacity:0; pointer-events:none; transform: translateY(-20px); } 
 
        .opening-card{ 
            text-align:center; 
            padding:28px; 
            border-radius:18px; 
            background: linear-gradient(180deg, rgba(255,255,255,0.02), 
rgba(255,255,255,0.01)); 
            box-shadow: var(--shadow); 
            min-width: 300px; 
            max-width: 920px; 
        } 
        .opening-card h1{ 
            margin: 0 0 14px; 
            font-family:var(--fw-primary); 
            font-weight:900; 
            font-size:2.6rem; 
            color:var(--accent-1); 
            letter-spacing:4px; 
            text-transform:uppercase; 
            animation: flicker 3s infinite alternate; 
        } 
        .opening-sub{ 
            color:var(--muted); 
            margin-bottom:18px; 
        } 
 
        .stats-row{ 
            display:flex; 
            gap:12px; 
            justify-content:center; 
            flex-wrap:wrap; 
            margin-bottom:20px; 
        } 
        .stat { 
            background: rgba(255,255,255,0.02); 
            border:1px solid rgba(255,255,255,0.03); 
            padding:10px 16px; 
            border-radius:12px; 
            min-width:110px; 
            text-align:center; 
        } 
        .stat .label{ font-size:12px; color:var(--muted); text-transform:uppercase; 
letter-spacing:1px; } 
        .stat .val{ font-family:var(--fw-primary); font-size:1.6rem; color:#fff; margin-top:6px; } 
 
        #start-button{ 
            margin-top:8px; 
            padding:12px 22px; 
            border-radius:10px; 
            background:transparent; 
            border:2px solid var(--accent-1); 
            color:var(--accent-1); 
            font-family:var(--fw-primary); 
            text-transform:uppercase; 
            letter-spacing:2px; 
            cursor:pointer; 
            transition: all .18s ease; 
        } 
        #start-button:hover{ 
            background:var(--accent-1); 
            color:var(--bg); 
            box-shadow:0 6px 30px rgba(240,180,41,0.12); 
        } 
 
        /* Main container */ 
        .container{ 
            max-width:1200px; 
            margin: 48px auto; 
            padding: 28px; 
        } 
        header{ 
            display:flex; 
            align-items:center; 
            justify-content:space-between; 
            gap:20px; 
            margin-bottom:26px; 
            border-bottom:1px solid rgba(255,255,255,0.03); 
            padding-bottom:18px; 
        } 
        .brand{ 
            display:flex; 
            gap:16px; 
            align-items:center; 
        } 
        .logo{ 
            width:72px; 
            height:72px; 
            border-radius:14px; 
            background: linear-gradient(135deg,var(--accent-2),var(--accent-1)); 
            display:flex; 
            align-items:center; 
            justify-content:center; 
            font-family:var(--fw-primary); 
            font-weight:700; 
            color:var(--bg); 
            box-shadow:0 8px 30px rgba(122,90,248,0.12); 
        } 
        .titles{ 
            text-align:left; 
        } 
        .titles h1{ 
            font-family:var(--fw-primary); 
            margin:0; 
            font-size:1.6rem; 
            letter-spacing:2px; 
            text-transform:uppercase; 
            color:var(--accent-1); 
        } 
        .titles p{ margin:4px 0 0; color:var(--muted); font-size:13px; } 
 
        /* Controls */ 
        .controls{ 
            display:flex; 
            gap:12px; 
            align-items:center; 
        } 
        .search { 
            background:var(--glass); 
            border:1px solid rgba(255,255,255,0.03); 
            padding:8px 12px; 
            border-radius:10px; 
            display:flex; 
            align-items:center; 
            gap:8px; 
        } 
        .search input{ 
            border:0; 
            outline:0; 
            background:transparent; 
            color: #E6F1FF; 
            width:180px; 
            font-size:14px; 
        } 
        .btn { 
            padding:9px 14px; 
            border-radius:10px; 
            border:0; 
            cursor:pointer; 
            font-weight:600; 
            background: linear-gradient(90deg,var(--accent-2),var(--accent-1)); 
            color:var(--bg); 
            box-shadow:0 8px 30px rgba(122,90,248,0.08); 
        } 
 
        /* Layout: squads + side panel */ 
        .grid{ 
            display:grid; 
            grid-template-columns: 1fr 360px; 
            gap:22px; 
            align-items:start; 
        } 
        @media (max-width:980px){ 
            .grid{ grid-template-columns: 1fr; } 
            .container{ padding:18px; margin:18px auto; } 
        } 
 
        /* Squads container */ 
        #squads-container{ 
            display:grid; 
            gap:18px; 
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); 
        } 
 
        .squad-card{ 
            background: linear-gradient(180deg, rgba(255,255,255,0.014), 
rgba(255,255,255,0.01)); 
            border-radius:var(--radius); 
            padding:18px; 
            box-shadow: var(--shadow); 
            border-left:4px solid rgba(122,90,248,0.12); 
            transition: transform .16s ease, box-shadow .16s ease; 
        } 
        .squad-card:hover{ transform: translateY(-6px); box-shadow: 0 18px 40px 
rgba(2,6,23,0.6); } 
 
        .squad-card .card-title{ 
            display:flex; 
            align-items:center; 
            justify-content:space-between; 
            gap:10px; 
            margin-bottom:12px; 
        } 
        .squad-card h3{ 
            margin:0; 
            font-family:var(--fw-primary); 
            font-size:1.05rem; 
            letter-spacing:1px; 
            color:var(--accent-1); 
        } 
        .member-list{ 
            list-style:none; 
            margin:0; 
            padding:0; 
            display:flex; 
            flex-wrap:wrap; 
            gap:8px; 
        } 
        .member-list li{ 
            padding:8px 10px; 
            border-radius:8px; 
            background: rgba(122,90,248,0.06); 
            border:1px solid rgba(122,90,248,0.06); 
            font-weight:600; 
            font-size:13px; 
            cursor:default; 
            transition: transform .12s ease; 
        } 
        .member-list li:hover{ transform:translateY(-4px); background:rgba(122,90,248,0.12); } 
 
        /* Side panel */ 
        .side{ 
            position:sticky; 
            top:24px; 
            align-self:start; 
            background: linear-gradient(180deg, rgba(255,255,255,0.02), 
rgba(255,255,255,0.01)); 
            padding:16px; 
            border-radius:12px; 
            box-shadow: var(--shadow); 
        } 
        .section-title{ 
            font-family:var(--fw-primary); 
            color:#e6f1ff; 
            margin:0 0 10px 0; 
            font-size:1.05rem; 
        } 
 
        /* Individual cards (matriz) */ 
        #individual-summary-grid{ 
            margin-top:18px; 
            display:grid; 
            gap:12px; 
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); 
        } 
        .person-card{ 
            background: linear-gradient(180deg, rgba(255,255,255,0.012), 
rgba(255,255,255,0.01)); 
            border-radius:10px; 
            padding:12px; 
            border:1px solid rgba(255,255,255,0.02); 
            display:flex; 
            flex-direction:column; 
            gap:8px; 
        } 
        .person-card .person-name{ 
            display:flex; 
            justify-content:space-between; 
            align-items:center; 
            gap:8px; 
        } 
        .person-card .person-name b{ font-family:var(--fw-primary); letter-spacing:0.6px; 
color:var(--accent-2); } 
        .person-card .p-squads{ display:flex; gap:6px; flex-wrap:wrap; } 
 
        .badge-count{ 
            background: rgba(240,180,41,0.12); 
            color:var(--accent-1); 
            padding:6px 8px; 
            border-radius:10px; 
            font-weight:700; 
            min-width:34px; 
            text-align:center; 
        } 
 
        /* Tiny helpers */ 
        .muted{ color:var(--muted); font-size:13px; } 
        .small{ font-size:13px; color:var(--muted) } 
 
        /* Chart area */ 
        #chart{ 
            width:100%; 
            height:220px; 
            border-radius:8px; 
            background: linear-gradient(180deg, rgba(255,255,255,0.01), 
rgba(255,255,255,0.00)); 
            padding:12px; 
            box-sizing:border-box; 
        } 
        .chart-bars{ display:flex; flex-direction:column; gap:8px; height:100%; 
justify-content:center; } 
 
        .chart-row{ 
            display:flex; 
            align-items:center; 
            gap:12px; 
        } 
        .chart-label{ width:85px; min-width:70px; font-size:13px; color:var(--muted); } 
        .chart-bar{ 
            height:12px; 
            border-radius:999px; 
            background: rgba(255,255,255,0.04); 
            flex:1; 
            overflow:hidden; 
            position:relative; 
        } 
        .chart-bar > i{ 
            position:absolute; 
            left:0; top:0; bottom:0; 
            background: linear-gradient(90deg,var(--accent-2),var(--accent-1)); 
            border-radius:999px; 
            width:0%; 
            transition: width .9s cubic-bezier(.2,.9,.2,1); 
        } 
        .chart-value{ width:42px; text-align:right; font-weight:700; color:#fff; font-size:13px; } 
 
        /* Animations & misc */ 
        @keyframes flicker { 0%,100%{ text-shadow: 0 0 6px var(--accent-1), 0 0 14px 
var(--accent-1) } 50%{ text-shadow:0 0 12px var(--accent-1),0 0 26px rgba(240,180,41,0.4) } 
} 
    </style> 
</head> 
 
<body> 
    <!-- Opening --> 
    <div id="opening-overlay" role="dialog" aria-label="Presentación squads"> 
        <div class="opening-card"> 
            <h1>SQUADS Linineitors</h1> 
            <p class="opening-sub">Resumen rápido de squads, roles y participación — interfaz 
optimizada para presentaciones internas.</p> 
 
            <div class="stats-row" aria-hidden="false"> 
                <div class="stat"> 
                    <span class="label">Integrantes</span> 
                    <div class="val" id="stat-members">—</div> 
                </div> 
                <div class="stat"> 
                    <span class="label">Squads</span> 
                    <div class="val" id="stat-squads">—</div> 
                </div> 
                <div class="stat"> 
                    <span class="label">Roles únicos</span> 
                    <div class="val" id="stat-roles">—</div> 
                </div> 
            </div> 
 
            <button id="start-button">Iniciar Presentación</button> 
        </div> 
    </div> 
 
    <!-- Main --> 
    <div class="container" id="main-content" aria-hidden="true"> 
        <header> 
            <div class="brand" aria-hidden="false"> 
                <div class="logo">LL</div> 
                <div class="titles"> 
                    <h1>Squads LOS LININEITORS</h1> 
                    <p class="muted">Distribución de squads y matriz de asignaciones</p> 
                </div> 
            </div> 
 
            <div class="controls" role="region" aria-label="Controles"> 
                <div class="search" title="Buscar persona o squad"> 
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" 
aria-hidden="true"> 
                        <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" 
stroke-linecap="round" stroke-linejoin="round"></path> 
                        <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="2" 
stroke-linecap="round" stroke-linejoin="round"></circle> 
                    </svg> 
                    <input id="search-input" placeholder="Buscar persona o squad..." 
aria-label="Buscar persona o squad"> 
                </div> 
                <button class="btn" id="export-csv" title="Exportar asignaciones">Exportar 
CSV</button> 
            </div> 
        </header> 
 
        <main class="grid"> 
            <!-- Left: squads --> 
            <section aria-labelledby="squadsTitle"> 
                <h2 id="squadsTitle" class="section-title">Configuración de Squads</h2> 
                <div id="squads-container" aria-live="polite" role="list"> 
                    <!-- Cartas generadas por JS --> 
                </div> 
 
                <h2 class="section-title" style="margin-top:22px">Matriz de Asignaciones</h2> 
                <div id="individual-summary-grid" aria-live="polite"> 
                    <!-- Generado por JS --> 
                </div> 
            </section> 
 
            <!-- Right: panel con gráfico y filtros --> 
            <aside class="side" aria-labelledby="panelTitle"> 
                <h3 id="panelTitle" class="section-title">Panel de resumen</h3> 
 
                <div style="margin-bottom:12px"> 
                    <div class="small">Top contribuidores</div> 
                    <div id="chart" role="img" aria-label="Gráfico de barras de contribuciones"> 
                        <div class="chart-bars" id="chart-bars"></div> 
                    </div> 
                </div> 
 
                <div style="margin-top:12px"> 
                    <div class="small" style="margin-bottom:8px">Filtro: mostrar solo personas con 
mínimo</div> 
                    <select id="min-filter" style="width:100%; padding:8px; border-radius:8px; 
border:1px solid rgba(255,255,255,0.03); background:transparent; color:#E6F1FF"> 
                        <option value="0">Mostrar todas</option> 
                        <option value="1">≥ 1 squad</option> 
                        <option value="2">≥ 2 squads</option> 
                        <option value="3">≥ 3 squads</option> 
                    </select> 
                </div> 
 
                <div style="margin-top:14px"> 
                    <div class="small">Acciones</div> 
                    <div style="display:flex; gap:8px; margin-top:8px"> 
                        <button class="btn" id="btn-copy-json" title="Copiar JSON">Copiar 
JSON</button> 
                        <button class="btn" id="btn-reset" title="Resetear búsqueda">Reset</button> 
                    </div> 
                </div> 
 
                <div style="margin-top:14px"> 
                    <div class="small" style="margin-bottom:6px">Leyenda</div> 
                    <div style="display:flex; gap:8px; flex-wrap:wrap"> 
                        <div class="badge-count" style="background:rgba(122,90,248,0.08); 
color:var(--accent-2)">Squad</div> 
                        <div class="badge-count" style="background:rgba(240,180,41,0.08); 
color:var(--accent-1)">Participaciones</div> 
                    </div> 
                </div> 
            </aside> 
        </main> 
    </div> 
 
    <script> 
        // --- Datos base (puedes modificarlos aquí) --- 
        const teamRoles = { 
            "TDI": ["Dani", "Luni" , "Gaby"], 
            "Clima": ["Nico", "Gian", "Pao"], 
            "Produ": ["Jhonny", "Luni", "Nico"], 
            "LUP": ["Pau", "Vale", "Gian"], 
            "NPS/QI": ["Dani", "Luisa", "Lini", "Pao"], 
            "Comunicación": ["Luisa", "Pau", "Gaby"], 
            "Referente Piso PR": ["Dani", "Gian", "Jhonny", "Nico"], 
            "Referente Piso Repu": ["Luisa", "Gaby", "Lini", "Pao"] 
        }; 
 
        // Helper: unique persons 
        function getIndividualAssignments(data) { 
            const out = {}; 
            for (const [squad, members] of Object.entries(data)) { 
                members.forEach(m => { 
                    if (!out[m]) out[m] = []; 
                    if (!out[m].includes(squad)) out[m].push(squad); 
                }); 
            } 
            return out; 
        } 
 
        // Render squads 
        function renderSquads(searchTerm = '') { 
            const container = document.getElementById('squads-container'); 
            container.innerHTML = ''; 
            const q = searchTerm.trim().toLowerCase(); 
 
            for (const [squad, members] of Object.entries(teamRoles)) { 
                // filter by squad name or members 
                if (q) { 
                    const inSquad = squad.toLowerCase().includes(q); 
                    const inMembers = members.some(m => m.toLowerCase().includes(q)); 
                    if (!inSquad && !inMembers) continue; 
                } 
 
                const card = document.createElement('div'); 
                card.className = 'squad-card'; 
                card.setAttribute('role','listitem'); 
                const title = document.createElement('div'); 
                title.className = 'card-title'; 
                title.innerHTML = `<h3>${squad}</h3><div class="small 
muted">${members.length} miembros</div>`; 
 
                const ul = document.createElement('ul'); 
                ul.className = 'member-list'; 
                members.forEach(member => { 
                    const li = document.createElement('li'); 
                    li.textContent = member; 
                    li.tabIndex = 0; 
                    li.addEventListener('click', () => focusPerson(member)); 
                    li.addEventListener('keydown', (e) => { if (e.key === 'Enter') 
focusPerson(member); }); 
                    ul.appendChild(li); 
                }); 
 
                card.appendChild(title); 
                card.appendChild(ul); 
                container.appendChild(card); 
            } 
        } 
 
        // Render individuals 
        function renderIndividuals(minFilter = 0, searchTerm = '') { 
            const grid = document.getElementById('individual-summary-grid'); 
            grid.innerHTML = ''; 
            const assignments = getIndividualAssignments(teamRoles); 
            const q = searchTerm.trim().toLowerCase(); 
 
            // Sort by name 
            const names = Object.keys(assignments).sort((a,b) => a.localeCompare(b)); 
 
            names.forEach(name => { 
                const squads = assignments[name]; 
                if (squads.length < minFilter) return; 
                if (q) { 
                    const matched = name.toLowerCase().includes(q) || squads.some(s => 
s.toLowerCase().includes(q)); 
                    if (!matched) return; 
                } 
 
                const card = document.createElement('div'); 
                card.className = 'person-card'; 
                card.innerHTML = ` 
                    <div class="person-name"> 
                        <div><b>${name}</b><div class="small muted">Participa en</div></div> 
                        <div class="badge-count" title="Número de squads">${squads.length}</div> 
                    </div> 
                    <div class="p-squads"> 
                        ${squads.map(s => `<span style="padding:6px 
8px;border-radius:8px;background:rgba(122,90,248,0.06);font-weight:600;font-size:13px">${
s}</span>`).join('')} 
                    </div> 
                `; 
                grid.appendChild(card); 
            }); 
        } 
 
        // Chart: top contributors (renders top 6) 
        function renderChart() { 
            const chart = document.getElementById('chart-bars'); 
            chart.innerHTML = ''; 
            const assignments = getIndividualAssignments(teamRoles); 
            const data = Object.entries(assignments).map(([k,v]) => ({name:k, count:v.length})); 
            data.sort((a,b) => b.count - a.count); 
            const top = data.slice(0,6); 
            const max = top.length ? top[0].count : 1; 
 
            top.forEach(item => { 
                const row = document.createElement('div'); 
                row.className = 'chart-row'; 
                row.innerHTML = ` 
                    <div class="chart-label">${item.name}</div> 
                    <div class="chart-bar"><i style="width:${(item.count/max*100)}%"></i></div> 
                    <div class="chart-value">${item.count}</div> 
                `; 
                chart.appendChild(row); 
            }); 
 
            // animate bars (after DOM) 
            requestAnimationFrame(() => { 
                const bars = chart.querySelectorAll('.chart-bar > i'); 
                bars.forEach(b => { 
                    // width already set inline, keep as is to allow CSS transition 
                    const w = b.style.width; 
                    b.style.width = '0%'; 
                    setTimeout(()=> b.style.width = w, 40); 
                }); 
            }); 
        } 
 
        // Focus person: search and scroll to their card if exists 
        function focusPerson(name){ 
            const input = document.getElementById('search-input'); 
            input.value = name; 
            applySearch(name); 
            setTimeout(()=>{ 
                const card = Array.from(document.querySelectorAll('.person-card')).find(c => 
c.textContent.trim().startsWith(name)); 
                if(card) card.scrollIntoView({behavior:'smooth', block:'center'}); 
            }, 120); 
        } 
 
        // Stats summary 
        function updateStats(){ 
            const members = new Set(); 
            const squads = Object.keys(teamRoles); 
            let roleCount = 0; 
            for (const [squad, membersArr] of Object.entries(teamRoles)){ 
                membersArr.forEach(m => members.add(m)); 
                roleCount += Math.ceil(membersArr.length/3); // ejemplo: métrica simple de 'roles' 
            } 
            document.getElementById('stat-members').textContent = members.size; 
            document.getElementById('stat-squads').textContent = squads.length; 
            document.getElementById('stat-roles').textContent = roleCount; 
        } 
 
        // Search + filter wiring 
        function applySearch(q){ 
            const min = parseInt(document.getElementById('min-filter').value || '0', 10); 
            renderSquads(q); 
            renderIndividuals(min, q); 
        } 
 
        // Export CSV 
        function exportCSV(){ 
            const assignments = getIndividualAssignments(teamRoles); 
            const rows = [['Persona','Squads']]; 
            for(const [person,squads] of Object.entries(assignments)){ 
                rows.push([person, `"${squads.join('; ')}"`]); 
            } 
            const csv = rows.map(r => r.join(',')).join('\n'); 
            const blob = new Blob([csv], {type:'text/csv;charset=utf-8;'}); 
            const url = URL.createObjectURL(blob); 
            const a = document.createElement('a'); 
            a.href = url; 
            a.download = 'asignaciones_squads.csv'; 
            document.body.appendChild(a); 
            a.click(); 
            a.remove(); 
            URL.revokeObjectURL(url); 
        } 
 
        // Copy JSON 
        function copyJSON(){ 
            const assignments = getIndividualAssignments(teamRoles); 
            const json = JSON.stringify(assignments, null, 2); 
            navigator.clipboard?.writeText(json).then(()=> { 
                alert('JSON copiado al portapapeles'); 
            }).catch(()=> { 
                prompt('Copia manualmente el JSON:', json); 
            }); 
        } 
 
        // Init 
        document.addEventListener('DOMContentLoaded', () => { 
            // render initial hidden content 
            renderSquads(); 
            renderIndividuals(0); 
            renderChart(); 
            updateStats(); 
 
            // Start button 
            const start = document.getElementById('start-button'); 
            start.addEventListener('click', () => { 
                document.getElementById('opening-overlay').classList.add('hidden'); 
                const main = document.getElementById('main-content'); 
                main.setAttribute('aria-hidden','false'); 
                // small delay to allow overlay transition 
                setTimeout(()=> window.scrollTo({top:0, behavior:'smooth'}), 300); 
            }); 
 
            // Search wiring 
            const input = document.getElementById('search-input'); 
            input.addEventListener('input', (e) => applySearch(e.target.value)); 
            document.getElementById('min-filter').addEventListener('change', (e) => 
applySearch(input.value)); 
 
            // Export/Copy 
            document.getElementById('export-csv').addEventListener('click', exportCSV); 
            document.getElementById('btn-copy-json').addEventListener('click', copyJSON); 
 
            // Reset button 
            document.getElementById('btn-reset').addEventListener('click', () => { 
                document.getElementById('search-input').value = ''; 
                document.getElementById('min-filter').value = '0'; 
                renderSquads(); 
                renderIndividuals(0,''); 
            }); 
 
            // keyboard: Esc clears search 
            window.addEventListener('keydown', (e) => { 
                if (e.key === 'Escape') { 
                    document.getElementById('search-input').value = ''; 
                    applySearch(''); 
                } 
            }); 
 
            // Accessibility: make cards focusable 
            document.body.addEventListener('click', (e) => { 
                // no-op, placeholder for later analytics 
            }); 
        }); 
    </script> 
</body> 
</html>
